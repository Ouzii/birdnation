{"version":3,"sources":["services/observations.js","components/ObservationForm.js","components/Map.js","components/ObservationCard.js","components/ListingPage.js","App.js","serviceWorker.js","index.js"],"names":["baseUrl","axios","interceptors","request","use","config","method","navigator","onLine","window","dispatchEvent","CustomEvent","detail","error","Promise","reject","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","get","headers","Content-Type","sent","abrupt","data","stop","this","apply","arguments","getOne","_ref2","_callee2","id","_context2","concat","_x","observations","create","_ref3","_callee3","newObject","_context3","post","_x2","remove","_ref4","_callee4","_context4","delete","_x3","ObservationForm","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getCurrentPosition","options","length","undefined","resolve","geolocation","loadPosition","position","_position$coords","latitude","longitude","coords","t0","console","log","addObservation","event","newObservation","preventDefault","species","state","rarity","notes","time","Date","observationService","then","savedObservation","updateObservations","catch","objectSpread","setState","returnToIndex","handleChange","defineProperty","target","name","value","react_default","createElement","Redirect","to","NavLink","onSubmit","onChange","key","type","React","Component","Map","lat","parseFloat","lng","_this2","MapWithMarker","withGoogleMap","react_google_maps_lib","defaultCenter","defaultZoom","containerElement","style","height","width","marginLeft","marginRight","mapElement","ObservationCard","resize","observation","extended","addEventListener","removeEventListener","lib","className","onClick","toggleExtended","cursor","Intl","DateTimeFormat","year","month","day","hour","minute","second","format","components_Map","substring","ListingPage","sortedBy","sortNo","sortObservations","nextProps","sortWith","sortedObservations","sort","b","toString","toUpperCase","changeSorting","map","obs","components_ObservationCard","App","_obs","postedObs","newStateObservations","JSON","parse","localStorage","getItem","toConsumableArray","removeItem","localObservations","setItem","stringify","push","_this3","BrowserRouter","Route","exact","path","render","components_ListingPage","components_ObservationForm","bind","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","URL","process","href","origin","fetch","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","ReactDOM","src_App_0","document","getElementById"],"mappings":"2TAEMA,EAAU,oDAEdC,IAAMC,aAAaC,QAAQC,IAAI,SAAUC,GAIvC,MAHsB,SAAlBA,EAAOC,QAAsBC,UAAUC,QACvCC,OAAOC,cAAc,IAAIC,YAAY,QAAS,CAAEC,OAAQP,KAErDA,GACN,SAAUQ,GACX,OAAOC,QAAQC,OAAOF,KAE1B,IAKMG,EAAM,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACY3B,IAAM4B,IAAI7B,EAL1B,CACH8B,QAAS,CAAEC,eAAgB,sBAGpB,cACLP,EADKE,EAAAM,KAAAN,EAAAO,OAAA,SAEJT,EAASU,MAFL,wBAAAR,EAAAS,SAAAZ,EAAAa,SAAH,yBAAAnB,EAAAoB,MAAAD,KAAAE,YAAA,GAKNC,EAAM,eAAAC,EAAAtB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAmB,EAAOC,GAAP,IAAAlB,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAf,KAAA,EACY3B,IAAM4B,IAAN,GAAAe,OAAa5C,EAAb,KAAA4C,OAAwBF,GAVxC,CACHZ,QAAS,CAAEC,eAAgB,sBAQpB,cACLP,EADKmB,EAAAX,KAAAW,EAAAV,OAAA,SAEJT,EAASU,MAFL,wBAAAS,EAAAR,SAAAM,EAAAL,SAAH,gBAAAS,GAAA,OAAAL,EAAAH,MAAAD,KAAAE,YAAA,GAeGQ,EAAA,CAAE9B,SAAQ+B,OAVb,eAAAC,EAAA9B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA2B,EAAOC,GAAP,IAAA1B,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAvB,KAAA,EACY3B,IAAMmD,KAAKpD,EAASkD,EAfpC,CACHpB,QAAS,CAAEC,eAAgB,sBAapB,cACLP,EADK2B,EAAAnB,KAAAmB,EAAAlB,OAAA,SAEJT,EAASU,MAFL,wBAAAiB,EAAAhB,SAAAc,EAAAb,SAAH,gBAAAiB,GAAA,OAAAL,EAAAX,MAAAD,KAAAE,YAAA,GAUqBgB,OALrB,eAAAC,EAAArC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAkC,EAAOd,GAAP,IAAAlB,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACY3B,IAAMyD,OAAN,GAAAd,OAAgB5C,EAAhB,KAAA4C,OAA2BF,GApB3C,CACHZ,QAAS,CAAEC,eAAgB,sBAkBpB,cACLP,EADKiC,EAAAzB,KAAAyB,EAAAxB,OAAA,SAEJT,GAFI,wBAAAiC,EAAAtB,SAAAqB,EAAApB,SAAH,gBAAAuB,GAAA,OAAAJ,EAAAlB,MAAAD,KAAAE,YAAA,GAK6BC,qDC4D1BqB,cA5FX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAA5C,OAAA6C,EAAA,EAAA7C,CAAAkB,KAAAwB,IACfE,EAAA5C,OAAA8C,EAAA,EAAA9C,CAAAkB,KAAAlB,OAAA+C,EAAA,EAAA/C,CAAA0C,GAAAM,KAAA9B,KAAMyB,KASVM,mBAAqB,WAAkB,IAAjBC,EAAiB9B,UAAA+B,OAAA,QAAAC,IAAAhC,UAAA,GAAAA,UAAA,GAAP,GAC5B,OAAO,IAAIxB,QAAQ,SAACyD,EAASxD,GACzBR,UAAUiE,YAAYL,mBAAmBI,EAASxD,EAAQqD,MAZ/CN,EAgBnBW,aAhBmBvD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAgBJ,SAAAC,IAAA,IAAAmD,EAAAC,EAAAC,EAAAC,EAAA,OAAAzD,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEgBkC,EAAKK,qBAFrB,cAEDO,EAFChD,EAAAM,KAAA2C,EAGyBD,EAASI,OAAjCF,EAHDD,EAGCC,SAAUC,EAHXF,EAGWE,UAHXnD,EAAAO,OAAA,SAIA,CAAE2C,WAAUC,cAJZ,OAAAnD,EAAAC,KAAA,EAAAD,EAAAqD,GAAArD,EAAA,SAMPsD,QAAQC,IAARvD,EAAAqD,IANO,yBAAArD,EAAAS,SAAAZ,EAAAa,KAAA,YAhBI0B,EA0BnBoB,eA1BmB,eAAA1C,EAAAtB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KA0BF,SAAAmB,EAAO0C,GAAP,IAAAT,EAAAU,EAAA,OAAAhE,EAAAC,EAAAI,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cACbuD,EAAME,iBADO1C,EAAAf,KAAA,EAEUkC,EAAKW,eAFf,cAEPC,EAFO/B,EAAAX,KAGToD,EAAiB,CACjBE,QAASxB,EAAKyB,MAAMD,QACpBE,OAAQ1B,EAAKyB,MAAMC,OACnBC,MAAO3B,EAAKyB,MAAME,MAClBb,SAAUF,EAASE,SACnBC,UAAWH,EAASG,UACpBa,KAAM,IAAIC,MATDhD,EAAAf,KAAA,EAaPgE,EAAmB7C,OAAOqC,GAC/BS,KAAK,SAACC,GAAD,OACFhC,EAAKD,MAAMkC,mBAAmBD,KAEjCE,MAAM,SAACnF,GACJmE,QAAQC,IAAIpE,GACZiD,EAAKD,MAAMkC,mBAAX7E,OAAA+E,EAAA,EAAA/E,CAAA,CAA+BwB,GAAI,GAAM0C,MAnBhC,OAqBbtB,EAAKoC,SAAS,CAAEC,eAAe,IArBlB,wBAAAxD,EAAAR,SAAAM,EAAAL,SA1BE,gBAAAS,GAAA,OAAAL,EAAAH,MAAAD,KAAAE,YAAA,GAAAwB,EAmDnBsC,aAAe,SAACjB,GACZrB,EAAKoC,SAALhF,OAAAmF,EAAA,EAAAnF,CAAA,GAAiBiE,EAAMmB,OAAOC,KAAOpB,EAAMmB,OAAOE,SAlDlD1C,EAAKyB,MAAQ,CACTD,QAAS,GACTE,OAAQ,SACRC,MAAO,GACPU,eAAe,GANJrC,wEAwDf,OAAG1B,KAAKmD,MAAMY,cACHM,EAAApF,EAAAqF,cAACC,EAAA,EAAD,CAAUC,GAAG,MAGpBH,EAAApF,EAAAqF,cAAA,WAEID,EAAApF,EAAAqF,cAACG,EAAA,EAAD,CAASD,GAAG,KAAZ,UACAH,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,QAAMI,SAAU1E,KAAK8C,gBACjBuB,EAAApF,EAAAqF,cAAA,wBACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,SAAOH,KAAK,UAAUC,MAAOpE,KAAKmD,MAAMiB,MAAOO,SAAU3E,KAAKgE,eAC9DK,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,uBACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,UAAQH,KAAK,SAASC,MAAOpE,KAAKmD,MAAMC,OAAQuB,SAAU3E,KAAKgE,cAC3DK,EAAApF,EAAAqF,cAAA,UAAQM,IAAI,SAASR,MAAM,UAA3B,UACAC,EAAApF,EAAAqF,cAAA,UAAQM,IAAI,OAAOR,MAAM,QAAzB,QACAC,EAAApF,EAAAqF,cAAA,UAAQM,IAAI,iBAAiBR,MAAM,kBAAnC,oBAEJC,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,sBACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,SAAOO,KAAK,WAAWV,KAAK,QAAQC,MAAOpE,KAAKmD,MAAME,MAAOsB,SAAU3E,KAAKgE,eAC5EK,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,SAAOO,KAAK,SAAST,MAAM,oBAtFjBU,IAAMC,6CC8BrBC,cA/BX,SAAAA,EAAYvD,GAAO,IAAAC,EAAA,OAAA5C,OAAA6C,EAAA,EAAA7C,CAAAkB,KAAAgF,IACftD,EAAA5C,OAAA8C,EAAA,EAAA9C,CAAAkB,KAAAlB,OAAA+C,EAAA,EAAA/C,CAAAkG,GAAAlD,KAAA9B,KAAMyB,KACD0B,MAAQ,CACT8B,IAAKC,WAAWxD,EAAKD,MAAMwD,KAC3BE,IAAKD,WAAWxD,EAAKD,MAAM0D,MAJhBzD,wEASZ,IAAA0D,EAAApF,KACDqF,EAAgBC,wBAAc,SAAA7D,GAAK,OACrC4C,EAAApF,EAAAqF,cAACiB,EAAA,UAAD,CACEC,cAAkBJ,EAAKjC,MACvBsC,YAAgB,GAChBvG,MAAI,GAENmF,EAAApF,EAAAqF,cAACiB,EAAA,OAAD,CAAQjD,SAAW8C,EAAKjC,WAI5B,OACEkB,EAAApF,EAAAqF,cAAA,WACED,EAAApF,EAAAqF,cAACe,EAAD,CACEK,iBAAmBrB,EAAApF,EAAAqF,cAAA,OAAKqB,MAAO,CAAEC,OAAM,QAAWC,MAAO,QAASC,WAAY,OAAQC,YAAa,UACnGC,WAAa3B,EAAApF,EAAAqF,cAAA,OAAKqB,MAAO,CAAEC,OAAM,oBAzBzBd,IAAMC,WCoETkB,cAjEX,SAAAA,EAAYxE,GAAO,IAAAC,EAAA,OAAA5C,OAAA6C,EAAA,EAAA7C,CAAAkB,KAAAiG,IACfvE,EAAA5C,OAAA8C,EAAA,EAAA9C,CAAAkB,KAAAlB,OAAA+C,EAAA,EAAA/C,CAAAmH,GAAAnE,KAAA9B,KAAMyB,KAMVyE,OAAS,WACLxE,EAAKoC,SAASpC,EAAKyB,QANnBzB,EAAKyB,MAALrE,OAAA+E,EAAA,EAAA/E,CAAA,GACO2C,EAAM0E,YADb,CAC0BC,UAAU,IAHrB1E,mFAYfrD,OAAOgI,iBAAiB,SAAUrG,KAAKkG,uDAIvC7H,OAAOiI,oBAAoB,SAAUtG,KAAKkG,iDAI1ClG,KAAK8D,SAALhF,OAAA+E,EAAA,EAAA/E,CAAA,GAAmBkB,KAAKmD,MAAxB,CAA+BiD,UAAWpG,KAAKmD,MAAMiD,6CAGhD,IAAAhB,EAAApF,KACL,OACIqE,EAAApF,EAAAqF,cAAA,WACKtE,KAAKmD,MAAMiD,SACR/B,EAAApF,EAAAqF,cAACiC,EAAA,KAAD,CAAMC,UAAU,aACZnC,EAAApF,EAAAqF,cAAA,OAAKmC,QAAS,kBAAMrB,EAAKsB,mBACzBrC,EAAApF,EAAAqF,cAAA,UAAKtE,KAAKmD,MAAMD,SAEhBmB,EAAApF,EAAAqF,cAACiC,EAAA,SAAD,KACIlC,EAAApF,EAAAqF,cAAA,OAAKmC,QAAS,kBAAMrB,EAAKsB,kBAAkBf,MAAO,CAAEgB,OAAQ,YAA5D,WACS3G,KAAKmD,MAAMC,OAAOiB,EAAApF,EAAAqF,cAAA,WAD3B,aAEWtE,KAAKmD,MAAMX,SAFtB,KAEkCxC,KAAKmD,MAAMV,UAAU4B,EAAApF,EAAAqF,cAAA,WAFvD,UAGQtE,KAAKmD,MAAME,MAAMgB,EAAApF,EAAAqF,cAAA,WAHzB,aAIW,IAAIsC,KAAKC,eAAe,QAAS,CACxCC,KAAM,UACNC,MAAO,OACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YAETC,OAAO,IAAI7D,KAAKvD,KAAKmD,MAAMG,OAAOe,EAAApF,EAAAqF,cAAA,cAKzCD,EAAApF,EAAAqF,cAAC+C,EAAD,CAAKpC,IAAKjF,KAAKmD,MAAMX,SAAU2C,IAAKnF,KAAKmD,MAAMV,aAGnD4B,EAAApF,EAAAqF,cAAA,OAAKmC,QAAS,kBAAMrB,EAAKsB,mBACzBrC,EAAApF,EAAAqF,cAACiC,EAAA,KAAD,CAAMC,UAAU,aACZnC,EAAApF,EAAAqF,cAAA,UAAKtE,KAAKmD,MAAMD,SADpB,IACkCmB,EAAApF,EAAAqF,cAAA,WAC7BtE,KAAKmD,MAAME,MAAMiE,UAAU,EAAG,IAFnC,gBAtDUxC,IAAMC,WCoGrBwC,cAnGX,SAAAA,EAAY9F,GAAO,IAAAC,EAAA,OAAA5C,OAAA6C,EAAA,EAAA7C,CAAAkB,KAAAuH,IACf7F,EAAA5C,OAAA8C,EAAA,EAAA9C,CAAAkB,KAAAlB,OAAA+C,EAAA,EAAA/C,CAAAyI,GAAAzF,KAAA9B,KAAMyB,KACD0B,MAAQ,CACTzC,aAAcgB,EAAKD,MAAMf,aACzB8G,SAAU,CAAC,gBAAiB,gBAAiB,UAAW,UACxDC,OAAQ,GALG/F,mFAWf1B,KAAK0H,qEAGiBC,GAClB3H,KAAKyB,QAAUkG,GACf3H,KAAK8D,SAAS,CAAEpD,aAAciH,EAAUjH,0DAK5C,IAAMkH,EAAW5H,KAAKmD,MAAMqE,SAASxH,KAAKmD,MAAMsE,QAC5CI,EAAqB7H,KAAKmD,MAAMzC,aACpC,OAAQkH,GACJ,IAAK,gBACDC,EAAmBC,KAAK,SAAC7I,EAAG8I,GACxB,OAAI,IAAIxE,KAAKtE,EAAEqE,MAAQ,IAAIC,KAAKwE,EAAEzE,OACtB,EACD,IAAIC,KAAKtE,EAAEqE,MAAQ,IAAIC,KAAKwE,EAAEzE,MAC9B,EAEA,IAGf,MACJ,IAAK,gBACDuE,EAAmBC,KAAK,SAAC7I,EAAG8I,GACxB,OAAI,IAAIxE,KAAKtE,EAAEqE,MAAQ,IAAIC,KAAKwE,EAAEzE,OACtB,EACD,IAAIC,KAAKtE,EAAEqE,MAAQ,IAAIC,KAAKwE,EAAEzE,MAC9B,EAEA,IAGf,MACJ,IAAK,UACDuE,EAAmBC,KAAK,SAAC7I,EAAG8I,GACxB,OAAI9I,EAAEiE,QAAQ8E,WAAWC,cAAgBF,EAAE7E,QAAQ8E,WAAWC,eAClD,EACDhJ,EAAEiE,QAAQ8E,WAAWC,cAAgBF,EAAE7E,QAAQ8E,WAAWC,cAC1D,EAEA,IAGf,MACJ,IAAK,SACDJ,EAAmBC,KAAK,SAAC7I,EAAG8I,GACxB,OAAI9I,EAAEmE,OAAO4E,WAAWC,cAAgBF,EAAE3E,OAAO4E,WAAWC,eAChD,EACDhJ,EAAEmE,OAAO4E,WAAWC,cAAgBF,EAAE3E,OAAO4E,WAAWC,cACxD,EAEA,IAQvBjI,KAAK8D,SAAS,CAAEpD,aAAcmH,yJAI1B7H,KAAKmD,MAAMsE,OAAS,mCACdzH,KAAK8D,SAAS,CAAE2D,OAAQzH,KAAKmD,MAAMsE,OAAS,iDAE5CzH,KAAK8D,SAAS,CAAE2D,OAAQ,WAElCzH,KAAK0H,sJAEA,IAAAtC,EAAApF,KACL,OACIqE,EAAApF,EAAAqF,cAAA,WACID,EAAApF,EAAAqF,cAACG,EAAA,EAAD,CAASD,GAAG,mBAAZ,mBACAH,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,UAAQmC,QAAS,kBAAMrB,EAAK8C,kBAA5B,YAAuDlI,KAAKmD,MAAMqE,SAASxH,KAAKmD,MAAMsE,SACtFpD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACCtE,KAAKmD,MAAMzC,aAAayH,IAAI,SAAAC,GAAG,OAAI/D,EAAApF,EAAAqF,cAAC+D,EAAD,CAAiBlC,YAAaiC,EAAKxD,IAAKwD,EAAI9H,eA7FtEwE,IAAMC,WCgGjBuD,cA5Fb,SAAAA,EAAY7G,GAAO,IAAAC,EAAA,OAAA5C,OAAA6C,EAAA,EAAA7C,CAAAkB,KAAAsI,IACjB5G,EAAA5C,OAAA8C,EAAA,EAAA9C,CAAAkB,KAAAlB,OAAA+C,EAAA,EAAA/C,CAAAwJ,GAAAxG,KAAA9B,KAAMyB,KACD0B,MAAQ,CACXzC,aAAc,MAHCgB,sFASjBrD,OAAOiI,oBAAoB,uLAI3BjI,OAAOgI,iBAAiB,YAAxBvH,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAqC,SAAAC,IAAA,IAAAoJ,EAAAC,EAAAC,EAAA,OAAAzJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAC/B4F,EAAKjC,MAAMzC,aADoB,CAAApB,EAAAE,KAAA,eAE3B4I,EAAMhD,EAAKjC,MAAMzC,aACjB8H,EAAYE,KAAKC,MAAMtK,OAAOuK,aAAaC,QAAQ,cACjDJ,EAJyB,CAIDD,GAJChI,OAAA1B,OAAAgK,EAAA,EAAAhK,CAIasJ,IAJb9I,EAAAE,KAAA,EAKzB4F,EAAKtB,SAAS,CAAEpD,aAAc+H,IALL,OAM/BpK,OAAOuK,aAAaG,WAAW,aANA,wBAAAzJ,EAAAS,SAAAZ,EAAAa,UASjCoI,EAAM,YACE5E,EAAmB5E,SAC5BgF,MAAM,SAAAnF,GACL,OAAOiK,KAAKC,MAAMtK,OAAOuK,aAAaC,QAAQ,6BAFlDT,SAIMY,EAAoBN,KAAKC,MAAMtK,OAAOuK,aAAaC,QAAQ,mBAC7DT,IAAQY,GAAqBZ,EAAInG,OAAS,2BAC5C5D,OAAOuK,aAAaK,QAAQ,eAAgBP,KAAKQ,UAAUd,cACrDpI,KAAK8D,SAAS,CAAEpD,aAAc0H,wCAEhCY,oCACIhJ,KAAK8D,SAAS,CAAEpD,aAAcsI,qDAE9BhJ,KAAK8D,SAAS,CAAEpD,aAAc,mJAKvBsC,GACjB,IAAMoF,EAAMpI,KAAKmD,MAAMzC,aACvB0H,EAAIe,KAAKnG,GACT3E,OAAOuK,aAAaK,QAAQ,eAAgBP,KAAKQ,UAAUd,IAC3DpI,KAAK8D,SAAS,CAAEpD,aAAc0H,qCAGvB,IAAAgB,EAAApJ,KACP,OACEqE,EAAApF,EAAAqF,cAAA,WACED,EAAApF,EAAAqF,cAAC+E,EAAA,EAAD,KACEhF,EAAApF,EAAAqF,cAAA,WACED,EAAApF,EAAAqF,cAAA,wBACCtE,KAAKmD,MAAMzC,cAAgBV,KAAKmD,MAAMzC,aAAauB,OAAS,EAC3DoC,EAAApF,EAAAqF,cAACgF,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,IACLC,OAAQ,kBACNpF,EAAApF,EAAAqF,cAACoF,EAAD,CAAahJ,aAAc0I,EAAKjG,MAAMzC,aACpCkE,IAAI,mBAGVP,EAAApF,EAAAqF,cAACgF,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,IACLC,OAAQ,kBACNpF,EAAApF,EAAAqF,cAAA,WACED,EAAApF,EAAAqF,cAACG,EAAA,EAAD,CAASD,GAAG,mBAAZ,mBACAH,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,WACAD,EAAApF,EAAAqF,cAAA,gCAMRD,EAAApF,EAAAqF,cAACgF,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,kBACLC,OAAQ,kBACNpF,EAAApF,EAAAqF,cAACqF,EAAD,CAAiBhG,mBAAoByF,EAAKzF,mBAAmBiG,KAAKR,GAChExE,IAAI,gCAlFJE,IAAMC,WCMlB8E,EAAcC,QACW,cAA7BzL,OAAO0L,SAASC,UAEa,UAA7B3L,OAAO0L,SAASC,UAEhB3L,OAAO0L,SAASC,SAASC,MACvB,2DAwCJ,SAASC,EAAgBC,EAAOlM,GAC9BE,UAAUiM,cACPC,SAASF,GACT1G,KAAK,SAAA6G,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBrH,QACfhF,UAAUiM,cAAcO,YAI1B/H,QAAQC,IACN,gHAKE5E,GAAUA,EAAO2M,UACnB3M,EAAO2M,SAASN,KAMlB1H,QAAQC,IAAI,sCAGR5E,GAAUA,EAAO4M,WACnB5M,EAAO4M,UAAUP,UAO5B1G,MAAM,SAAAnF,GACLmE,QAAQnE,MAAM,4CAA6CA,MA5E1D,SAAkBR,GACvB,GAA6C,kBAAmBE,UAAW,CAGzE,GADkB,IAAI2M,IAAIC,GAAwB1M,OAAO0L,SAASiB,MACpDC,SAAW5M,OAAO0L,SAASkB,OAIvC,OAKF5M,OAAOgI,iBAAiB,OAAQ,WAC9B,IAAM8D,EAAK,GAAA3J,OAAMuK,GAAN,sBAEPlB,GAgEV,SAAiCM,EAAOlM,GAEtCiN,MAAMf,GACH1G,KAAK,SAAArE,GAEJ,IAAM+L,EAAc/L,EAASM,QAAQD,IAAI,gBAEnB,MAApBL,EAASgM,QACO,MAAfD,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5ClN,UAAUiM,cAAckB,MAAM7H,KAAK,SAAA6G,GACjCA,EAAaiB,aAAa9H,KAAK,WAC7BpF,OAAO0L,SAASyB,aAKpBtB,EAAgBC,EAAOlM,KAG1B2F,MAAM,WACLhB,QAAQC,IACN,mEArFA4I,CAAwBtB,EAAOlM,GAI/BE,UAAUiM,cAAckB,MAAM7H,KAAK,WACjCb,QAAQC,IACN,+GAMJqH,EAAgBC,EAAOlM,MChD/BmM,GACAsB,IAASjC,OAAOpF,EAAApF,EAAAqF,cAACqH,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.5e477896.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'https://birdnation.herokuapp.com/api/observations'\r\n\r\n  axios.interceptors.request.use(function (config) {\r\n    if (config.method === 'post' && !navigator.onLine) {\r\n        window.dispatchEvent(new CustomEvent('axios', { detail: config }))\r\n    }\r\n    return config;\r\n  }, function (error) {\r\n    return Promise.reject(error);\r\n  });\r\nconst config = () => {\r\n    return {\r\n        headers: { 'Content-Type': 'Application/json' }\r\n    }\r\n}\r\nconst getAll = async () => {\r\n    const response = await axios.get(baseUrl, config())\r\n    return response.data\r\n}\r\n\r\nconst getOne = async (id) => {\r\n    const response = await axios.get(`${baseUrl}/${id}`, config())\r\n    return response.data\r\n}\r\n\r\nconst create = async (newObject) => {\r\n    const response = await axios.post(baseUrl, newObject, config())\r\n    return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n    const response = await axios.delete(`${baseUrl}/${id}`, config())\r\n    return response\r\n}\r\n\r\nexport default { getAll, create, remove, getOne }","import React from 'react';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport observationService from '../services/observations';\r\n\r\nclass ObservationForm extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            species: '',\r\n            rarity: 'Common',\r\n            notes: '',\r\n            returnToIndex: false\r\n        }\r\n    }\r\n\r\n    getCurrentPosition = (options = {}) => {\r\n        return new Promise((resolve, reject) => {\r\n            navigator.geolocation.getCurrentPosition(resolve, reject, options)\r\n        })\r\n    }\r\n\r\n    loadPosition = async () => {\r\n        try {\r\n            const position = await this.getCurrentPosition()\r\n            const { latitude, longitude } = position.coords\r\n            return { latitude, longitude }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    addObservation = async (event) => {\r\n        event.preventDefault()\r\n        const position = await this.loadPosition()\r\n        let newObservation = {\r\n            species: this.state.species,\r\n            rarity: this.state.rarity,\r\n            notes: this.state.notes,\r\n            latitude: position.latitude,\r\n            longitude: position.longitude,\r\n            time: new Date()\r\n        }\r\n        \r\n\r\n        await observationService.create(newObservation)\r\n        .then((savedObservation) =>\r\n            this.props.updateObservations(savedObservation)\r\n        )\r\n        .catch((error) => {\r\n            console.log(error)\r\n            this.props.updateObservations({id: 0, ...newObservation})\r\n        })\r\n        this.setState({ returnToIndex: true })\r\n        \r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.returnToIndex) {\r\n            return <Redirect to='/' />\r\n        }\r\n        return (\r\n            <div>\r\n                \r\n                <NavLink to='/'>Cancel</NavLink>\r\n                <br></br>\r\n                <br></br>\r\n                <form onSubmit={this.addObservation}>\r\n                    <label>Species</label>\r\n                    <br></br>\r\n                    <input name='species' value={this.state.value} onChange={this.handleChange} />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <label>Rarity</label>\r\n                    <br></br>\r\n                    <select name='rarity' value={this.state.rarity} onChange={this.handleChange}>\r\n                        <option key='Common' value='Common'>Common</option>\r\n                        <option key='Rare' value='Rare'>Rare</option>\r\n                        <option key='Extremely rare' value='Extremely rare'>Extremenly rare</option>\r\n                    </select>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <label>Notes</label>\r\n                    <br></br>\r\n                    <input type='textarea' name='notes' value={this.state.notes} onChange={this.handleChange} />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <input type='submit' value='Submit'></input>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ObservationForm","import React from 'react'\r\nimport { withGoogleMap, GoogleMap, Marker } from 'react-google-maps';\r\nclass Map extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            lat: parseFloat(this.props.lat),\r\n            lng: parseFloat(this.props.lng)\r\n        }\r\n    }\r\n\r\n    \r\n  render() {\r\n    const MapWithMarker = withGoogleMap(props => (\r\n        <GoogleMap\r\n          defaultCenter = { this.state }\r\n          defaultZoom = { 10 }\r\n          mark\r\n        >\r\n        <Marker position={ this.state } />\r\n        </GoogleMap>\r\n     ));\r\n     \r\n    return (\r\n      <div>\r\n        <MapWithMarker\r\n          containerElement={ <div style={{ height: `250px`, width: '250px', marginLeft: 'auto', marginRight: 'auto' }} /> }\r\n          mapElement={ <div style={{ height: `100%` }} /> }\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Map\r\n","import { Card, CardBody } from 'react-simple-card';\r\nimport Map from './Map';\r\nimport React from 'react';\r\n\r\nclass ObservationCard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            ...props.observation, extended: false\r\n        }\r\n    }\r\n\r\n    resize = () => {\r\n        this.setState(this.state)\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.resize)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.resize)\r\n    }\r\n\r\n    toggleExtended() {\r\n        this.setState({ ...this.state, extended: !this.state.extended })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.extended ?\r\n                    <Card className='cardReact'>\r\n                        <div onClick={() => this.toggleExtended()} >\r\n                        <h4>{this.state.species}</h4>\r\n                        \r\n                        <CardBody>\r\n                            <div onClick={() => this.toggleExtended()} style={{ cursor: \"pointer\" }}>\r\n                            Rarity: {this.state.rarity}<br></br>\r\n                            Location: {this.state.latitude}, {this.state.longitude}<br></br>\r\n                            Notes: {this.state.notes}<br></br>\r\n                            Observed: {new Intl.DateTimeFormat('en-GB', {\r\n                                year: 'numeric',\r\n                                month: 'long',\r\n                                day: '2-digit',\r\n                                hour: '2-digit',\r\n                                minute: '2-digit',\r\n                                second: '2-digit'\r\n\r\n                            }).format(new Date(this.state.time))}<br></br>\r\n                            </div>\r\n                            \r\n                        </CardBody>\r\n                        </div>\r\n                        <Map lat={this.state.latitude} lng={this.state.longitude}/>\r\n                    </Card>\r\n                    :\r\n                    <div onClick={() => this.toggleExtended()} >\r\n                    <Card className='cardReact'>\r\n                        <h4>{this.state.species}</h4> <br></br>\r\n                        {this.state.notes.substring(0, 15)}...\r\n                    </Card>\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ObservationCard","import React from 'react';\r\nimport ObservationCard from './ObservationCard';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nclass ListingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            observations: this.props.observations,\r\n            sortedBy: ['time (newest)', 'time (oldest)', 'species', 'rarity'],\r\n            sortNo: 0\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.sortObservations()\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props !== nextProps) {\r\n            this.setState({ observations: nextProps.observations })\r\n        }\r\n    }\r\n\r\n    sortObservations() {\r\n        const sortWith = this.state.sortedBy[this.state.sortNo];\r\n        let sortedObservations = this.state.observations\r\n        switch (sortWith) {\r\n            case 'time (newest)':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (new Date(a.time) > new Date(b.time)) {\r\n                        return -1\r\n                    } else if (new Date(a.time) < new Date(b.time)) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            case 'time (oldest)':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (new Date(a.time) < new Date(b.time)) {\r\n                        return -1\r\n                    } else if (new Date(a.time) > new Date(b.time)) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            case 'species':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (a.species.toString().toUpperCase() < b.species.toString().toUpperCase()) {\r\n                        return -1\r\n                    } else if (a.species.toString().toUpperCase() > b.species.toString().toUpperCase()) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            case 'rarity':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (a.rarity.toString().toUpperCase() < b.rarity.toString().toUpperCase()) {\r\n                        return -1\r\n                    } else if (a.rarity.toString().toUpperCase() > b.rarity.toString().toUpperCase()) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        this.setState({ observations: sortedObservations })\r\n    }\r\n\r\n    async changeSorting() {\r\n        if (this.state.sortNo < 3) {\r\n            await this.setState({ sortNo: this.state.sortNo + 1 })\r\n        } else {\r\n            await this.setState({ sortNo: 0 })\r\n        }\r\n        this.sortObservations()\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavLink to='/newobservation'>New observation</NavLink>\r\n                <br></br>\r\n                <br></br>\r\n                <button onClick={() => this.changeSorting()}>Sort by: {this.state.sortedBy[this.state.sortNo]}</button>\r\n                <br></br>\r\n                <br></br>\r\n                {this.state.observations.map(obs => <ObservationCard observation={obs} key={obs.id} />)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListingPage","import React from 'react';\nimport observationService from './services/observations';\nimport './App.css';\nimport ObservationForm from './components/ObservationForm';\nimport { BrowserRouter, Route, NavLink } from 'react-router-dom';\nimport ListingPage from './components/ListingPage';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      observations: null\n    }\n  }\n\n\n  componentWillUnmount() {\n    window.removeEventListener('postCache')\n  }\n\n  async componentDidMount() {\n    window.addEventListener('postCache', async () => {\n      if (this.state.observations) {\n          let obs = this.state.observations\n          let postedObs = JSON.parse(window.localStorage.getItem('postedObs'))\n          const newStateObservations = [postedObs, ...obs]\n          await this.setState({ observations: newStateObservations })\n          window.localStorage.removeItem('postedObs')\n      }\n    })\n    let obs = []\n    obs = await observationService.getAll()\n      .catch(error => {\n        return JSON.parse(window.localStorage.getItem('observations'))\n      })\n    const localObservations = JSON.parse(window.localStorage.getItem('observations'))\n    if (obs !== localObservations && obs.length > 0) {\n      window.localStorage.setItem('observations', JSON.stringify(obs))\n      await this.setState({ observations: obs })\n    } else {\n      if (localObservations) {\n        await this.setState({ observations: localObservations })\n      } else {\n        await this.setState({ observations: [] })\n      }\n    }\n  }\n\n  updateObservations(newObservation) {\n    const obs = this.state.observations\n    obs.push(newObservation)\n    window.localStorage.setItem('observations', JSON.stringify(obs))\n    this.setState({ observations: obs })\n  }\n\n  render() {\n    return (\n      <div>\n        <BrowserRouter>\n          <div>\n            <h1>Birdnation</h1>\n            {this.state.observations && this.state.observations.length > 0 ?\n              <Route\n                exact\n                path='/'\n                render={() => (\n                  <ListingPage observations={this.state.observations}\n                    key='listingpage' />)}\n              />\n              :\n              <Route\n                exact\n                path='/'\n                render={() => (\n                  <div>\n                    <NavLink to='/newobservation'>New observation</NavLink>\n                    <br></br>\n                    <br></br>\n                    <p>No observations</p>\n                  </div>\n                )}\n              />\n\n            }\n            <Route\n              exact\n              path='/newobservation'\n              render={() => (\n                <ObservationForm updateObservations={this.updateObservations.bind(this)}\n                  key='newobservation' />)}\n            />\n\n\n          </div>\n        </BrowserRouter>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    \n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nserviceWorker.register();\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}