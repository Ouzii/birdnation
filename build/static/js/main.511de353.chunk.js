(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(t,e,n){t.exports=n(415)},173:function(t,e,n){},413:function(t,e,n){},415:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(67),i=n.n(o),s=(n(173),n(10)),c=n.n(s),u=n(19),l=n(33),p=n(34),d=n(36),h=n(35),m=n(37),v=n(98),f=n(68),b=n(69),g=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={lat:parseFloat(n.props.lat),lng:parseFloat(n.props.lng)},n}return Object(m.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this,e=Object(b.withGoogleMap)(function(e){return r.a.createElement(b.GoogleMap,{defaultCenter:t.state,defaultZoom:10,mark:!0},r.a.createElement(b.Marker,{position:t.state}))});return r.a.createElement("div",null,r.a.createElement(e,{containerElement:r.a.createElement("div",{style:{height:"250px",width:"250px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),e}(r.a.Component),E=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(d.a)(this,Object(h.a)(e).call(this,t))).state=Object(v.a)({},t.observation,{extended:!1}),n}return Object(m.a)(e,t),Object(p.a)(e,[{key:"toggleExtended",value:function(){this.setState(Object(v.a)({},this.state,{extended:!this.state.extended}))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,this.state.extended?r.a.createElement(f.Card,null,r.a.createElement("div",{onClick:function(){return t.toggleExtended()},style:{cursor:"pointer"}},r.a.createElement("h4",null,this.state.species),r.a.createElement(f.CardBody,null,r.a.createElement("div",{onClick:function(){return t.toggleExtended()},style:{cursor:"pointer"}},"Rarity: ",this.state.rarity,r.a.createElement("br",null),"Location: ",this.state.latitude,", ",this.state.longitude,r.a.createElement("br",null),"Notes: ",this.state.notes,r.a.createElement("br",null),"Observed: ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(this.state.time)),r.a.createElement("br",null)))),r.a.createElement(g,{lat:this.state.latitude,lng:this.state.longitude})):r.a.createElement("div",{onClick:function(){return t.toggleExtended()},style:{cursor:"pointer"}},r.a.createElement(f.Card,null,r.a.createElement("h4",null,this.state.species)," ",r.a.createElement("br",null),this.state.notes.substring(0,15),"...")))}}]),e}(r.a.Component),w=n(45),y=n.n(w),j="https://birdnation.herokuapp.com/api/observations",O=function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get(j,{headers:{"Content-Type":"Application/json"}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("".concat(j,"/").concat(e),{headers:{"Content-Type":"Application/json"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),k={getAll:O,create:function(){var t=Object(u.a)(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post(j,e,{headers:{"Content-Type":"Application/json"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=Object(u.a)(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.delete("".concat(j,"/").concat(e),{headers:{"Content-Type":"Application/json"}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getOne:x},C=(n(413),function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(d.a)(this,Object(h.a)(e).call(this,t))).getCurrentPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){navigator.geolocation.getCurrentPosition(e,n,t)})},n.loadPosition=Object(u.a)(c.a.mark(function t(){var e,a,r,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getCurrentPosition();case 3:return e=t.sent,a=e.coords,r=a.latitude,o=a.longitude,console.log(e),t.abrupt("return",{latitude:r,longitude:o});case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),n.state={observations:null},n}return Object(m.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=Object(u.a)(c.a.mark(function t(){var e,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getAll();case 2:e=t.sent,n=JSON.parse(window.localStorage.getItem("observations")),e!==n&&window.localStorage.setItem("observations",JSON.stringify(e)),this.state.observations!==e&&this.setState({observations:e});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Birdnation"),this.state.observations?this.state.observations.map(function(t){return r.a.createElement(E,{observation:t,key:t.id})}):r.a.createElement("p",null,"No observations"))}}]),e}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.write("<script src=https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAB1yHLAf1meWRP2PcHUeyrxwX59V9KQLc","><\/script>")),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_MAP_API_KEY:"AIzaSyAB1yHLAf1meWRP2PcHUeyrxwX59V9KQLc"}).REACT_APP_API_KEY),i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[168,2,1]]]);
//# sourceMappingURL=main.511de353.chunk.js.map