(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,n){e.exports=n(416)},173:function(e,t,n){},413:function(e,t,n){},416:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(67),i=n.n(o),s=(n(173),n(10)),c=n.n(s),u=n(19),l=n(33),d=n(34),p=n(36),m=n(35),h=n(37),v=n(98),b=n(68),f=n(69),g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={lat:parseFloat(n.props.lat),lng:parseFloat(n.props.lng)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=Object(f.withGoogleMap)(function(t){return r.a.createElement(f.GoogleMap,{defaultCenter:e.state,defaultZoom:10,mark:!0},r.a.createElement(f.Marker,{position:e.state}))});return r.a.createElement("div",null,r.a.createElement(t,{containerElement:r.a.createElement("div",{style:{height:"250px",width:"250px",marginLeft:"auto",marginRight:"auto"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(r.a.Component),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).resize=function(){n.setState(n.state)},n.state=Object(v.a)({},e.observation,{extended:!1}),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"toggleExtended",value:function(){this.setState(Object(v.a)({},this.state,{extended:!this.state.extended}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.extended?r.a.createElement(b.Card,{className:"cardReact"},r.a.createElement("div",{onClick:function(){return e.toggleExtended()}},r.a.createElement("h4",null,this.state.species),r.a.createElement(b.CardBody,null,r.a.createElement("div",{onClick:function(){return e.toggleExtended()},style:{cursor:"pointer"}},"Rarity: ",this.state.rarity,r.a.createElement("br",null),"Location: ",this.state.latitude,", ",this.state.longitude,r.a.createElement("br",null),"Notes: ",this.state.notes,r.a.createElement("br",null),"Observed: ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(this.state.time)),r.a.createElement("br",null)))),r.a.createElement(g,{lat:this.state.latitude,lng:this.state.longitude})):r.a.createElement("div",{onClick:function(){return e.toggleExtended()}},r.a.createElement(b.Card,{className:"cardReact"},r.a.createElement("h4",null,this.state.species)," ",r.a.createElement("br",null),this.state.notes.substring(0,15),"...")))}}]),t}(r.a.Component),E=n(45),y=n.n(E),j="https://birdnation.herokuapp.com/api/observations",O=function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(j,{headers:{"Content-Type":"Application/json"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(j,"/").concat(t),{headers:{"Content-Type":"Application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),x={getAll:O,create:function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post(j,t,{headers:{"Content-Type":"Application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat(j,"/").concat(t),{headers:{"Content-Type":"Application/json"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getOne:k},C=(n(413),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).getCurrentPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,n){navigator.geolocation.getCurrentPosition(t,n,e)})},n.loadPosition=Object(u.a)(c.a.mark(function e(){var t,a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getCurrentPosition();case 3:return t=e.sent,a=t.coords,r=a.latitude,o=a.longitude,console.log(t),e.abrupt("return",{latitude:r,longitude:o});case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),n.state={observations:null,sortedBy:"species"},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAll();case 2:t=e.sent,n=JSON.parse(window.localStorage.getItem("observations")),t!==n&&window.localStorage.setItem("observations",JSON.stringify(t)),this.state.observations!==t&&this.setState({observations:t});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Birdnation"),r.a.createElement("button",{onClick:function(){return window.alert("To be implemented")}},"Add a new observation"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return window.alert("To be implemented")}},"Sort by: ",this.state.sortedBy),r.a.createElement("br",null),r.a.createElement("br",null),this.state.observations?this.state.observations.map(function(e){return r.a.createElement(w,{observation:e,key:e.id})}):r.a.createElement("p",null,"No observations"))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[168,2,1]]]);
//# sourceMappingURL=main.12118054.chunk.js.map