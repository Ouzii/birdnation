{"version":3,"sources":["services/observations.js","components/ObservationForm.js","components/Map.js","components/ObservationCard.js","components/ListingPage.js","App.js","serviceWorker.js","index.js"],"names":["baseUrl","axios","interceptors","request","use","config","method","navigator","onLine","window","dispatchEvent","CustomEvent","detail","error","Promise","reject","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","get","headers","Content-Type","sent","abrupt","data","stop","this","apply","arguments","getOne","_ref2","_callee2","id","_context2","concat","_x","observations","create","_ref3","_callee3","newObject","_context3","post","_x2","remove","_ref4","_callee4","_context4","delete","_x3","ObservationForm","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getCurrentPosition","options","length","undefined","resolve","geolocation","loadPosition","position","_position$coords","latitude","longitude","coords","t0","console","log","addObservation","event","newObservation","preventDefault","species","state","rarity","notes","time","Date","observationService","then","savedObservation","updateObservations","catch","objectSpread","Math","floor","random","setState","returnToIndex","handleChange","defineProperty","target","name","value","react_default","createElement","Redirect","to","NavLink","onSubmit","onChange","key","type","React","Component","Map","lat","parseFloat","lng","_this2","MapWithMarker","withGoogleMap","react_google_maps_lib","defaultCenter","defaultZoom","containerElement","style","height","width","marginLeft","marginRight","mapElement","ObservationCard","resize","observation","extended","addEventListener","removeEventListener","lib","className","onClick","toggleExtended","cursor","Intl","DateTimeFormat","year","month","day","hour","minute","second","format","components_Map","substring","ListingPage","sortedBy","sortNo","sortObservations","nextProps","sortWith","sortedObservations","sort","b","toString","toUpperCase","changeSorting","map","obs","components_ObservationCard","App","_obs","postedObs","newStateObservations","JSON","parse","localStorage","getItem","toConsumableArray","removeItem","localObservations","setItem","stringify","push","_this3","BrowserRouter","Route","exact","path","render","components_ListingPage","components_ObservationForm","bind","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","URL","process","href","origin","fetch","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.69e5d6da.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'https://birdnation.herokuapp.com/api/observations'\r\n\r\n  axios.interceptors.request.use(function (config) {\r\n    if (config.method === 'post' && !navigator.onLine) {\r\n        window.dispatchEvent(new CustomEvent('axios', { detail: config }))\r\n    }\r\n    return config;\r\n  }, function (error) {\r\n    return Promise.reject(error);\r\n  });\r\nconst config = () => {\r\n    return {\r\n        headers: { 'Content-Type': 'Application/json' }\r\n    }\r\n}\r\nconst getAll = async () => {\r\n    const response = await axios.get(baseUrl, config())\r\n    return response.data\r\n}\r\n\r\nconst getOne = async (id) => {\r\n    const response = await axios.get(`${baseUrl}/${id}`, config())\r\n    return response.data\r\n}\r\n\r\nconst create = async (newObject) => {\r\n    const response = await axios.post(baseUrl, newObject, config())\r\n    return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n    const response = await axios.delete(`${baseUrl}/${id}`, config())\r\n    return response\r\n}\r\n\r\nexport default { getAll, create, remove, getOne }","import React from 'react';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport observationService from '../services/observations';\r\n\r\nclass ObservationForm extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            species: '',\r\n            rarity: 'Common',\r\n            notes: '',\r\n            returnToIndex: false\r\n        }\r\n    }\r\n\r\n    getCurrentPosition = (options = {}) => {\r\n        return new Promise((resolve, reject) => {\r\n            navigator.geolocation.getCurrentPosition(resolve, reject, options)\r\n        })\r\n    }\r\n\r\n    loadPosition = async () => {\r\n        try {\r\n            const position = await this.getCurrentPosition()\r\n            const { latitude, longitude } = position.coords\r\n            return { latitude, longitude }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    addObservation = async (event) => {\r\n        event.preventDefault()\r\n        const position = await this.loadPosition()\r\n        let newObservation = {\r\n            species: this.state.species,\r\n            rarity: this.state.rarity,\r\n            notes: this.state.notes,\r\n            latitude: position.latitude,\r\n            longitude: position.longitude,\r\n            time: new Date()\r\n        }\r\n        \r\n\r\n        await observationService.create(newObservation)\r\n        .then((savedObservation) =>\r\n            this.props.updateObservations(savedObservation)\r\n        )\r\n        .catch((error) => {\r\n            console.log(error)\r\n            this.props.updateObservations({id: Math.floor(Math.random() * Math.floor(1000)), ...newObservation})\r\n        })\r\n        this.setState({ returnToIndex: true })\r\n        \r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.returnToIndex) {\r\n            return <Redirect to='/' />\r\n        }\r\n        return (\r\n            <div>\r\n                \r\n                <NavLink to='/'>Cancel</NavLink>\r\n                <br></br>\r\n                <br></br>\r\n                <form onSubmit={this.addObservation}>\r\n                    <label>Species</label>\r\n                    <br></br>\r\n                    <input name='species' value={this.state.value} onChange={this.handleChange} />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <label>Rarity</label>\r\n                    <br></br>\r\n                    <select name='rarity' value={this.state.rarity} onChange={this.handleChange}>\r\n                        <option key='Common' value='Common'>Common</option>\r\n                        <option key='Rare' value='Rare'>Rare</option>\r\n                        <option key='Extremely rare' value='Extremely rare'>Extremenly rare</option>\r\n                    </select>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <label>Notes</label>\r\n                    <br></br>\r\n                    <input type='textarea' name='notes' value={this.state.notes} onChange={this.handleChange} />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <input type='submit' value='Submit'></input>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ObservationForm","import React from 'react'\r\nimport { withGoogleMap, GoogleMap, Marker } from 'react-google-maps';\r\nclass Map extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            lat: parseFloat(this.props.lat),\r\n            lng: parseFloat(this.props.lng)\r\n        }\r\n    }\r\n\r\n    \r\n  render() {\r\n    const MapWithMarker = withGoogleMap(props => (\r\n        <GoogleMap\r\n          defaultCenter = { this.state }\r\n          defaultZoom = { 10 }\r\n          mark\r\n        >\r\n        <Marker position={ this.state } />\r\n        </GoogleMap>\r\n     ));\r\n     \r\n    return (\r\n      <div>\r\n        <MapWithMarker\r\n          containerElement={ <div style={{ height: `250px`, width: '250px', marginLeft: 'auto', marginRight: 'auto' }} /> }\r\n          mapElement={ <div style={{ height: `100%` }} /> }\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Map\r\n","import { Card, CardBody } from 'react-simple-card';\r\nimport Map from './Map';\r\nimport React from 'react';\r\n\r\nclass ObservationCard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            ...props.observation, extended: false\r\n        }\r\n    }\r\n\r\n    resize = () => {\r\n        this.setState(this.state)\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.resize)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.resize)\r\n    }\r\n\r\n    toggleExtended() {\r\n        this.setState({ ...this.state, extended: !this.state.extended })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.extended ?\r\n                    <Card className='cardReact'>\r\n                        <div onClick={() => this.toggleExtended()} >\r\n                        <h4>{this.state.species}</h4>\r\n                        \r\n                        <CardBody>\r\n                            <div onClick={() => this.toggleExtended()} style={{ cursor: \"pointer\" }}>\r\n                            Rarity: {this.state.rarity}<br></br>\r\n                            Location: {this.state.latitude}, {this.state.longitude}<br></br>\r\n                            Notes: {this.state.notes}<br></br>\r\n                            Observed: {new Intl.DateTimeFormat('en-GB', {\r\n                                year: 'numeric',\r\n                                month: 'long',\r\n                                day: '2-digit',\r\n                                hour: '2-digit',\r\n                                minute: '2-digit',\r\n                                second: '2-digit'\r\n\r\n                            }).format(new Date(this.state.time))}<br></br>\r\n                            </div>\r\n                            \r\n                        </CardBody>\r\n                        </div>\r\n                        <Map lat={this.state.latitude} lng={this.state.longitude}/>\r\n                    </Card>\r\n                    :\r\n                    <div onClick={() => this.toggleExtended()} >\r\n                    <Card className='cardReact'>\r\n                        <h4>{this.state.species}</h4> <br></br>\r\n                        {this.state.notes.substring(0, 15)}...\r\n                    </Card>\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ObservationCard","import React from 'react';\r\nimport ObservationCard from './ObservationCard';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nclass ListingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            observations: this.props.observations,\r\n            sortedBy: ['time (newest)', 'time (oldest)', 'species', 'rarity'],\r\n            sortNo: 0\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.sortObservations()\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props !== nextProps) {\r\n            this.setState({ observations: nextProps.observations })\r\n        }\r\n    }\r\n\r\n    sortObservations() {\r\n        const sortWith = this.state.sortedBy[this.state.sortNo];\r\n        let sortedObservations = this.state.observations\r\n        switch (sortWith) {\r\n            case 'time (newest)':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (new Date(a.time) > new Date(b.time)) {\r\n                        return -1\r\n                    } else if (new Date(a.time) < new Date(b.time)) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            case 'time (oldest)':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (new Date(a.time) < new Date(b.time)) {\r\n                        return -1\r\n                    } else if (new Date(a.time) > new Date(b.time)) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            case 'species':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (a.species.toString().toUpperCase() < b.species.toString().toUpperCase()) {\r\n                        return -1\r\n                    } else if (a.species.toString().toUpperCase() > b.species.toString().toUpperCase()) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            case 'rarity':\r\n                sortedObservations.sort((a, b) => {\r\n                    if (a.rarity.toString().toUpperCase() < b.rarity.toString().toUpperCase()) {\r\n                        return -1\r\n                    } else if (a.rarity.toString().toUpperCase() > b.rarity.toString().toUpperCase()) {\r\n                        return 1\r\n                    } else {\r\n                        return 0\r\n                    }\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        this.setState({ observations: sortedObservations })\r\n    }\r\n\r\n    async changeSorting() {\r\n        if (this.state.sortNo < 3) {\r\n            await this.setState({ sortNo: this.state.sortNo + 1 })\r\n        } else {\r\n            await this.setState({ sortNo: 0 })\r\n        }\r\n        this.sortObservations()\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavLink to='/newobservation'>New observation</NavLink>\r\n                <br></br>\r\n                <br></br>\r\n                <button onClick={() => this.changeSorting()}>Sort by: {this.state.sortedBy[this.state.sortNo]}</button>\r\n                <br></br>\r\n                <br></br>\r\n                {this.state.observations.map(obs => <ObservationCard observation={obs} key={obs.id} />)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListingPage","import React from 'react';\nimport observationService from './services/observations';\nimport './App.css';\nimport ObservationForm from './components/ObservationForm';\nimport { BrowserRouter, Route, NavLink } from 'react-router-dom';\nimport ListingPage from './components/ListingPage';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      observations: null\n    }\n  }\n\n\n  componentWillUnmount() {\n    window.removeEventListener('postCache')\n  }\n\n  async componentDidMount() {\n    window.addEventListener('postCache', async () => {\n      if (this.state.observations) {\n          let obs = this.state.observations\n          let postedObs = JSON.parse(window.localStorage.getItem('postedObs'))\n          const newStateObservations = [...postedObs, ...obs]\n          await this.setState({ observations: newStateObservations })\n          window.localStorage.removeItem('postedObs')\n      }\n    })\n    let obs = []\n    obs = await observationService.getAll()\n      .catch(error => {\n        return JSON.parse(window.localStorage.getItem('observations'))\n      })\n    const localObservations = JSON.parse(window.localStorage.getItem('observations'))\n    if (obs !== localObservations && obs.length > 0) {\n      window.localStorage.setItem('observations', JSON.stringify(obs))\n      await this.setState({ observations: obs })\n    } else {\n      if (localObservations) {\n        await this.setState({ observations: localObservations })\n      } else {\n        await this.setState({ observations: [] })\n      }\n    }\n  }\n\n  updateObservations(newObservation) {\n    const obs = this.state.observations\n    obs.push(newObservation)\n    window.localStorage.setItem('observations', JSON.stringify(obs))\n    this.setState({ observations: obs })\n  }\n\n  render() {\n    return (\n      <div>\n        <BrowserRouter>\n          <div>\n            <h1>Birdnation</h1>\n            {this.state.observations && this.state.observations.length > 0 ?\n              <Route\n                exact\n                path='/'\n                render={() => (\n                  <ListingPage observations={this.state.observations}\n                    key='listingpage' />)}\n              />\n              :\n              <Route\n                exact\n                path='/'\n                render={() => (\n                  <div>\n                    <NavLink to='/newobservation'>New observation</NavLink>\n                    <br></br>\n                    <br></br>\n                    <p>No observations</p>\n                  </div>\n                )}\n              />\n\n            }\n            <Route\n              exact\n              path='/newobservation'\n              render={() => (\n                <ObservationForm updateObservations={this.updateObservations.bind(this)}\n                  key='newobservation' />)}\n            />\n\n\n          </div>\n        </BrowserRouter>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    \n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nserviceWorker.register();\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}